# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å

–°–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Bachata Beat Counter –Ω–∞ VDS Timeweb —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å.

## üöÄ –û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç - –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∫–∞—á–∞—Ç—å —Å GitHub (–µ—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)

```bash
# –°–∫–∞—á–∏–≤–∞–µ–º —Å–∫—Ä–∏–ø—Ç
wget https://raw.githubusercontent.com/GSilence/bachata/master/install-bachata.sh -O install-bachata.sh

# –ò–ª–∏ —á–µ—Ä–µ–∑ curl (–µ—Å–ª–∏ wget –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
curl -o install-bachata.sh https://raw.githubusercontent.com/GSilence/bachata/master/install-bachata.sh

# –î–µ–ª–∞–µ–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x install-bachata.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
./install-bachata.sh
```

**–ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É 404** - —Ñ–∞–π–ª –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 2 –Ω–∏–∂–µ.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

–ï—Å–ª–∏ –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –µ—â–µ –Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π:

```bash
# –°–∫–∞—á–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
wget https://raw.githubusercontent.com/GSilence/bachata/master/install-on-existing-vds.sh -O install-on-existing-vds.sh

# –ò–ª–∏ —á–µ—Ä–µ–∑ curl
curl -o install-on-existing-vds.sh https://raw.githubusercontent.com/GSilence/bachata/master/install-on-existing-vds.sh

# –î–µ–ª–∞–µ–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x install-on-existing-vds.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
./install-on-existing-vds.sh
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç–µ –∏ –∑–∞–ø—É—à–∏—Ç–µ `install-bachata.sh` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1.

**–í—Å—ë!** –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç, —á—Ç–æ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç Nginx –∏ systemd —Å–µ—Ä–≤–∏—Å

## üìù –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º—É
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Node.js 20, Python 3.10, MySQL, Nginx
3. –°–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Python –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (madmom, demucs) - **10-20 –º–∏–Ω—É—Ç**
6. –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
7. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Nginx –∫–∞–∫ reverse proxy
8. –°–æ–∑–¥–∞–µ—Ç systemd —Å–µ—Ä–≤–∏—Å
9. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç firewall

## üì¶ –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### 1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –ß–µ—Ä–µ–∑ Git
cd /opt/bachata
sudo -u bachata git clone https://github.com/GSilence/bachata.git .

# –ò–ª–∏ —á–µ—Ä–µ–∑ SCP —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
scp -r ./* root@your-server-ip:/opt/bachata/
chown -R bachata:bachata /opt/bachata
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É

–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω, —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ù–∞—Å—Ç—Ä–æ–∏—Ç Prisma
- –°–æ–±–µ—Ä–µ—Ç Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ó–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å

–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cd /opt/bachata
sudo -u bachata npm install
sudo -u bachata npm run db:generate
sudo -u bachata npm run db:push
sudo -u bachata npm run build
systemctl start bachata-beat-counter
```

### 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥–æ–ª–æ—Å–æ–≤—ã–µ —Ñ–∞–π–ª—ã

```bash
# –° –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
scp public/audio/voice/1.mp3 public/audio/voice/2.mp3 ... root@your-server-ip:/opt/bachata/public/audio/voice/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞
chown -R bachata:bachata /opt/bachata/public/audio/voice
```

**–í–∞–∂–Ω–æ:** –ù—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã `1.mp3` - `8.mp3` (–Ω–µ 9-10).

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
bachata-manage status

# –õ–æ–≥–∏
bachata-manage logs

# –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://your-server-ip
```

## üîÑ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫

–°–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ! –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –ü—Ä–æ–ø—É—Å—Ç–∏—Ç —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –í—ã–ø–æ–ª–Ω–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —à–∞–≥–∏

## üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

```bash
bachata-manage start    # –ó–∞–ø—É—Å—Ç–∏—Ç—å
bachata-manage stop     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
bachata-manage restart  # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
bachata-manage status   # –°—Ç–∞—Ç—É—Å
bachata-manage logs     # –õ–æ–≥–∏
bachata-manage rebuild  # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
```

## üîç –õ–æ–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–í—Å–µ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤: `/var/log/bachata-install.log`

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f /var/log/bachata-install.log
```

## üîë –ü–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–∞—Ä–æ–ª—å –ë–î —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤: `/root/db_credentials.txt`

```bash
cat /root/db_credentials.txt
```

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã?

–°–º. –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

- [`docs/MANUAL_INSTALL_TIMEWEB.md`](./MANUAL_INSTALL_TIMEWEB.md) - –ø–æ—à–∞–≥–æ–≤–∞—è —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- [`docs/INSTALL_ON_EXISTING_VDS.md`](./INSTALL_ON_EXISTING_VDS.md) - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
- [`docs/DEPLOYMENT_VDS.md`](./DEPLOYMENT_VDS.md) - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (madmom) –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å **10-20 –º–∏–Ω—É—Ç** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω
- –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ - —Å–∫—Ä–∏–ø—Ç –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π
- –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
